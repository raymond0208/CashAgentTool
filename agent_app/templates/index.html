{% extends "layout.html" %}

{% block title %}Dashboard - Cash Flow Agent{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h1>Dashboard</h1>
    <p class="text-muted">Welcome to your financial command center.</p>
</div>

<!-- KPI Stats -->
<div class="kpi-cards">
    <div class="kpi-card">
        <div class="kpi-card-title">
            Total Revenue
            <i class="bi bi-currency-dollar"></i>
        </div>
        <div class="kpi-card-value">${{ "%.2f"|format(total_revenue) }}</div>
        <div class="kpi-card-trend {{ 'positive' if percent_change > 0 else 'negative' }}">
            {{ '%+.1f'|format(percent_change) }}% from last month
        </div>
    </div>
    
    <div class="kpi-card">
        <div class="kpi-card-title">
            Cash Flow
            <i class="bi bi-graph-up-arrow"></i>
        </div>
        <div class="kpi-card-value">$15,032</div>
        <div class="kpi-card-trend positive">+8.1% from last month</div>
    </div>
    
    <div class="kpi-card">
        <div class="kpi-card-title">
            Expenses
            <i class="bi bi-receipt"></i>
        </div>
        <div class="kpi-card-value">$28,743</div>
        <div class="kpi-card-trend negative">-2.5% from last month</div>
    </div>
    
    <div class="kpi-card">
        <div class="kpi-card-title">
            Profit Margin
            <i class="bi bi-percent"></i>
        </div>
        <div class="kpi-card-value">24.7%</div>
        <div class="kpi-card-trend positive">+5.2% from last month</div>
    </div>
</div>

<!-- Chart Cards -->
<div class="chart-cards">
    <div class="chart-card">
        <div class="chart-card-title">Revenue Overview</div>
        <div class="chart-container">
            <canvas id="revenueChart"></canvas>
        </div>
    </div>
    
    <div class="chart-card">
        <div class="chart-card-title">Expense Breakdown</div>
        <div class="chart-container">
            <canvas id="expenseChart"></canvas>
        </div>
    </div>
    
    <div class="chart-card">
        <div class="chart-card-title">Cash Flow Forecast</div>
        <div class="chart-container">
            <canvas id="cashFlowChart"></canvas>
        </div>
    </div>
</div>

<!-- AI Assistant -->
<div class="ai-assistant">
    <div class="ai-assistant-header">
        <div class="ai-assistant-icon">
            <i class="bi bi-robot"></i>
        </div>
        <h3 class="ai-assistant-title">Financial AI Assistant</h3>
    </div>
    <div class="ai-assistant-message">
        Hello! I'm your financial AI assistant. How can I help you analyze your business finances today?
    </div>
    <div class="ai-input-container">
        <input type="text" class="ai-input" placeholder="Ask about your finances...">
        <button class="ai-submit">
            <i class="bi bi-send"></i>
        </button>
    </div>
</div>
{% endblock %}
